let lastId, mainNavLinks = document.querySelectorAll("nav ul li a"),
    mainSections = document.querySelectorAll("main section"), cur = [];

function nav_mobile() {
    let n = document.querySelector("nav ul .nav__links");
    n.classList.contains("hidden") ? n.classList.remove("hidden") : n.classList.add("hidden")
}

function menu_check_width() {
    let n = document.getElementById("nav__links");
    window.innerWidth <= 768 ? n.classList.contains("hidden") || n.classList.add("hidden") : n.classList.contains("hidden") && n.classList.remove("hidden")
}

function menuMobile_hiden_onload() {
    let n = document.getElementById("nav__links");
    window.innerWidth <= 768 && (n.classList.contains("hidden") || n.classList.add("hidden"))
}

function mobileMenu__collapse() {
    if (window.innerWidth <= 768) {
        document.querySelector("nav ul .nav__links").classList.add("hidden")
    }
}

window.addEventListener("scroll", n => {
    let e = window.scrollY + 1;
    mainNavLinks.forEach(n => {
        let i = document.querySelector(n.hash);
        i.offsetTop <= e && i.offsetTop + i.offsetHeight > e ? n.classList.add("nav__link--current") : n.classList.remove("nav__link--current")
    })
}), window.addEventListener("resize", menu_check_width), window.addEventListener("load", menuMobile_hiden_onload), mainNavLinks.forEach(function (n) {
    n.addEventListener("click", mobileMenu__collapse, !1)
});
